## ErrorBoundary 란 뭘까 2

## ErrorBoundary 란 뭘까 1

우리는 개발을 하면서 많은 오류를 맞딱트린다.

들어와야 할 데이터가 안들어 온다던가, 상태관리를 잘못해서 잘못된 값을 가져온다던가.. 무한으로 즐긴다던가 등등등
상상하지도 못한 이유로 오류가 발생하기도 한다.

하지만 우리는 훌륭한 프론트엔드 개발자가 되려면 이런 오류 상황도 사용자에게 적절한 방법으로 알리고,

오류가 발생한 부분 외의 화면은 정상적으로 작동하게 해야 보다 나은 UX 를 제공할 수 있다.

### 오류 처리의 방법들

오류가 발생하였을때 오류에 따라 우리는 적당한 문구와 방법으로 해당 상태를 사용자에게 알려야 한다.

사용자가 모달을 open 하는 버튼을 눌렀다고 치자.
이때 모달은 안열리고 오류 메시지에 런타임 오류 코드들이 잔뜩 표출된다던가,..
혹은 아무 오류도 안보여줘서 버튼을 눌렀는데 아무 동작을 안한다던가 하면 매우 난감한 것이다.

이럴때 적당한 방법은,  ~~ 가 없습니다.  다시 시도해주세요 라던가 관리자에게 문의해주세요 와 같은
문구를 표현해주고,  해당 오류를 해결할 만한 다음 처리를 해주는 것이다.

react 에는 이걸 편하게 해주는 도구가 있었으니...

### Error Boundary

Error Boundary 는 리엑트의 lifeCycle 과정에서 발생하는 오류를 탐지하여,

적절한 UI 를 표출하거나 후처리를 할 수 있도록 도와준다.

우선 예시 소스를 살펴보자

````javascript
interface IModalrrorBoundaryProps {
    children: ReactNode;
    key?: string;
    onReset?: () => void;
}

const ModalErrorBoundary = (props: IModalErrorBoundaryProps) => {
    const { children, key = new Date().toISOString(), onReset = () => {} } = props;

    const { reset } = useQueryErrorResetBoundary();

    const handleOnReset = () => {
        reset();
        onReset();
    };

    return (
        <ErrorBoundary
            resetKeys={[key]}
            onReset={handleOnReset}
            onError={(error) => {
                const description = error instanceof AxiosError ? error?.response?.data?.resultMessage : error.message;

                customToast({
                    message: <CustomToastContent title={'Error'} description={description} />,
                    status: 'error',
                });
            }}
            fallbackRender={() => <></>}
        >
            <Suspense fallback={<Spinner />}>{children}</Suspense>
        </ErrorBoundary>
    );
};

export default ModalErrorBoundary;
````

위 소스는 


