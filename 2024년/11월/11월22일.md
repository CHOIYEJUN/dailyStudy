인생 첫 개발자 컨퍼런스 후기
어느 덧 2년차 개발자가 된 나.

믓쟁이 처럼 컨퍼런스에 가보았다


한번쯤 네카라쿠배 같은 비~~익 테크 FE 개발자들은 무엇을 어떻게 일하나 궁금했던 차였어서, 반차를 내고 day2 컨퍼런스에 방문해보았다!

뭘 보았을까?

2시부터 시작하는 FE 관련 섹션을 집중해서 듣기로 했다.

이중 가장 인상깊었던 포커스 개발 및 적용기 와 좌충우돌 PDF 생성 기능 개발기에 대해 써보고자 한다.

서비스 UX는 내가 직접 지킨다
웹 이미지 뷰어 "포커스" 개발 및 적용기
프론트엔드 개발자는 보이는 곳 뿐만 아니라, 유저의 인터랙션 과 같은 보이지 않는 부분에서도 주의를 기울여야 합니다.

해당 조직은 카카오 내의 FE 플랫폼 팀으로, 다음카페, 티스토리, 브런치 플랫폼 팀으로, 다음카페, 티스토리, 브런치스토리, 카카오맵 의 FE 를 담당하는 팀이라고 한다.

사이드 프로젝트로 쏘아올린 공 "이미지 뷰어" 를 통합하다

무엇이 문제였을까?
각 담당하고 있는 4개의 사이트 모두 재각각의 이미지 뷰어를 자체, 혹은 외부라이브러리를 사용하여 개발하였고,

4개의 사이트가 모두 다른 기능과 사용성을 가지고 있었고 이는 사용자로 하여금 통일된 UX 를 제공해 줄 수 없을 뿐만 아니라, 관리에도 개별적인 리소스가 발생한다는 문제가 있었다고 한다.

어떻게 개선할까?
카카오 조직에서는 다양한 팀에서 다양한 사이드프로젝트를 진행한다고 한다.
마침 해당 팀에서 이미지 뷰어 사이드 프로젝트를 진행중이였고, 이를 실제 서비스할 라이브러리 로 만들게 되었다고 한다.

처음 시작은 어땠을까?
기획이나 디자인 모두 개발자들끼리 해야 했다고 한다.
그렇다보니 실제 사용자들이나 개발 실무자, 기획자 분들과 많은 미팅과 설문조사가 필요했고, 이에 깊은 고민을 해볼 수 있는 좋은 경험이였다고 한다.

어떻게 만들었을까?
UX 피드백

UX 피드백은 사용자가 특정 동작을 수행했을 때 그 동작의 결과를 직관적으로 이해할 수 있도록 제공하는 중요한 요소입니다.

예를 들어, 사용자가 이미지를 슬라이드로 넘기는 경우, 그 동작 이후에 무엇을 기대해야 하는지를 유저가 쉽게 이해할 수 있어야 합니다.

이를 위한 대표적인 피드백 요소들이 "그래비티 효과"와 "포커싱 효과" 입니다.

그래비티 효과
그래비티 효과는 물리 법칙을 차용한 인터랙션입니다.

이미지를 끝까지 넘기면, 더 이상 넘길 수 없음을 유저에게 알려주는 방식으로, 화면이 부드럽게 튕기는 듯한 동작을 보여줍니다.

마치 물건을 끌어당겼다가 놓았을 때 되돌아오는 것처럼 동작해, 남은 이미지가 없다는 것을 직관적으로 느낄 수 있게 합니다.

도식 설명:

[---| Image 1 | Image 2 | Image 3 ---]
↑ Drag to the end
[No more images]
[Image 3 slightly pulls back]
이 효과는 단순히 "마지막 이미지입니다"라고 문구를 띄우는 것보다 훨씬 더 자연스럽고 사용자 경험을 향상시키는 방법입니다.

포커싱 효과
포커싱 효과는 유저가 슬라이드하는 동안 현재 보고 있는 이미지에 집중할 수 있도록 시각적으로 강조하는 방법입니다.
예를 들어, 가운데 이미지가 살짝 커지거나 주변의 이미지가 흐릿하게 보이는 등의 효과가 있을 수 있습니다.

이러한 시각적 피드백은 유저가 현재 보고 있는 콘텐츠에 더욱 몰입하게 만들어주고, 인터랙션의 흐름을 부드럽게 이어갈 수 있게 합니다.

포커싱 효과 예시:

[ Image 1   | *Image 2* | Image 3 ]
↓
[ Image 1 fades slightly]
[*Image 2 scales up slightly*]
[ Image 3 fades slightly]
가상 슬라이드

이미지 뷰어에서 슬라이드 가능한 이미지가 많을 경우, 모든 이미지를 한꺼번에 DOM에 로드하는 것은 메모리 낭비와 성능 저하를 불러옵니다.

예를 들어, 슬라이드 가능한 이미지가 1000장 있다고 가정할 때, 이를 한꺼번에 로드하면 브라우저의 메모리 사용량이 급격히 증가해 성능 문제가 발생할 수 있습니다.

이를 해결하기 위해, 가상 리스트 방식으로 구현했습니다.

즉, 화면에 보이는 이미지와 그 주변의 1~3개의 이미지 정도만 DOM에 렌더링하고, 사용자가 슬라이드를 할 때마다 새로운 이미지를 동적으로 불러옵니다.


성능 최적화

슬라이드가 빠르게 이루어졌을 때 버벅임이 발생하지 않도록, 이미지의 크기나 용량에 따라 미리 렌더링할 이미지를 다르게 설정하는 방식으로 성능을 최적화했습니다. 이미지가 크면 미리 몇 장 더 렌더링해두고, 작은 이미지일 때는 렌더링할 이미지를 최소화하여 메모리를 절약하는 방식을 사용했습니다.

이미지 스케일링
모바일에서 흔히 사용하는 이미지 핀치 줌과 더블탭 확대 기능을 구현하는 과정에서도 여러 문제가 있었습니다.

핀치 줌 문제
핀치 줌은 두 손가락의 중심 좌표를 기준으로 이미지를 확대/축소하는 기능입니다. 하지만 줌 레벨이 커질수록 같은 손가락 움직임에도 이미지가 너무 빨리 확대되거나 너무 느리게 확대되는 문제가 발생할 수 있습니다.
이를 해결하기 위해 줌 레벨에 따라 핀치의 가중치를 다르게 적용하는 방식을 사용했습니다. 예를 들어, 큰 이미지일수록 핀치 속도가 천천히 반응하도록 설계한 것입니다.

제스처 충돌 문제
더블탭으로 이미지를 확대하는 기능과 싱글탭으로 헤더나 푸터를 띄우는 기능이 제스처 충돌을 일으켰습니다.
이 문제를 해결하기 위해, 디바운스 처리와 탭 상태 관리를 통해 두 동작을 분리했습니다.

디바운스 처리는 짧은 시간 동안 여러 번 발생하는 이벤트를 하나로 묶어 처리하는 기법입니다. 이를 통해 싱글탭과 더블탭이 명확하게 구분되도록 했습니다.

회고와 아쉬운점
처음에는 어느 사이트에서나 사용할 수 있는 확장성 있는 라이브러리를 만드려고 하였다고 했으나 기능이 이것저것 추가되다 보니, 기능이 확장된 라이브러리가 만들어졌고,

추후에 리팩토링 하게 된다면 이 기능들을 플러그인 으로 쪼개서 필요한 것만 가져다쓰게 하고자 하셨다고 한다.

React to PDF
좌충우돌 PDF 생성 기능 개발기
작성중 ...



